# Jira ポモドーロタイマー

これは、あなたのJiraインスタンスに接続し、割り当てられた課題を取得し、ポモドーロタイマーを使って作業時間を記録できる最小構成のWebアプリケーションです。タイマーが停止すると、経過時間が対応するJiraの課題に自動的に記録されます。

## 1. プロジェクトアーキテクチャ

このアプリケーションは、主に2つの部分で構成されています。

-   **バックエンド**: Jira REST APIへのプロキシとして機能するNode.js/Expressサーバー。認証を安全に処理し、フロントエンドにシンプルなエンドポイントを提供します。
-   **フロントエンド**: 課題の一覧表示とタイマーの管理を行うUIを提供するReact/Vite製のシングルページアプリケーション。

```
[ブラウザ: Reactアプリ] <==> [サーバー: Node.js] <==> [Jira Cloud REST API]
```

## 2. 前提条件

-   [Node.js](https://nodejs.org/) (v18以降を推奨)
-   [npm](https://www.npmjs.com/) (Node.jsに同梱)
-   APIトークンアクセスが可能なJira Cloudアカウント

## 3. セットアップ手順

### ステップ1: リポジトリをクローンする

まず、このリポジトリをローカルマシンにクローンします。

### ステップ2: バックエンドを設定する

バックエンドサーバーがJira APIに接続するには、認証情報が必要です。

1.  **`server` ディレクトリに移動します:**
    ```sh
    cd server
    ```

2.  **環境ファイルを作成します:**
    環境ファイルのサンプル `.env.example` を `.env` という名前の新しいファイルにコピーします。
    ```sh
    cp .env.example .env
    ```

3.  **`.env` ファイルを編集します:**
    テキストエディタで `.env` を開き、あなたのJira情報を入力します:
    -   `JIRA_DOMAIN`: あなたのJiraサイトのURL (例: `your-company.atlassian.net`)
    -   `JIRA_USER_EMAIL`: Jiraへのログインに使用するメールアドレス
    -   `JIRA_API_TOKEN`: あなたのJira APIトークン。[こちら](https://id.atlassian.com/manage-profile/security/api-tokens)で作成できます。

4.  **バックエンドの依存関係をインストールします:**
    ```sh
    npm install
    ```

### ステップ3: フロントエンドを設定する

1.  **プロジェクトルートから `client` ディレクトリに移動します:**
    ```sh
    cd ../client
    ```

2.  **フロントエンドの依存関係をインストールします:**
    ```sh
    npm install
    ```

## 4. アプリケーションの実行

バックエンドとフロントエンドのサーバーを、2つの別々のターミナルウィンドウで同時に実行する必要があります。

**ターミナル1: バックエンドサーバーを起動する**

```sh
# /server ディレクトリにいることを確認してください
cd path/to/your/project/server

# 開発モードでサーバーを起動します (自動リロード有効)
npm run dev
```
バックエンドサーバーが `http://localhost:3001` で起動します。

**ターミナル2: フロントエンドアプリケーションを起動する**

```sh
# /client ディレクトリにいることを確認してください
cd path/to/your/project/client

# Vite開発サーバーを起動します
npm run dev
```
フロントエンドアプリケーションが `http://localhost:5173` で利用可能になります。このURLをブラウザで開いてアプリを使用してください。

---

アプリケーションは自動的にあなたに割り当てられたJiraの課題を取得します。課題の「Start Pomodoro」をクリックして、作業の追跡を開始してください。
